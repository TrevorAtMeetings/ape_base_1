[2025-06-14 12:32:43 +0000] [26824] [INFO] Starting gunicorn 23.0.0
[2025-06-14 12:32:43 +0000] [26824] [INFO] Listening at: http://0.0.0.0:8080 (26824)
[2025-06-14 12:32:43 +0000] [26824] [INFO] Using worker: sync
[2025-06-14 12:32:43 +0000] [26835] [INFO] Booting worker with pid: 26835
INFO:app:Flask app instance created.
[2025-06-14 12:32:43 +0000] [26824] [INFO] Handling signal: winchp/static/temp
[2025-06-14 12:32:44 +0000] [26824] [INFO] Handling signal: winch
[2025-06-14 12:32:44 +0000] [26824] [INFO] Handling signal: winch
[2025-06-14 12:32:44 +0000] [26824] [INFO] Handling signal: winch
INFO:app:Routes imported.
[2025-06-14 12:32:44 +0000] [26824] [INFO] Handling signal: winch
[2025-06-14 12:32:44 +0000] [26824] [INFO] Handling signal: winch
[2025-06-14 12:32:44 +0000] [26824] [INFO] Handling signal: winch
[2025-06-14 12:32:44 +0000] [26824] [INFO] Handling signal: winch
[2025-06-14 12:32:44 +0000] [26824] [INFO] Handling signal: winch
[2025-06-14 12:32:44 +0000] [26824] [INFO] Handling signal: winch
[2025-06-14 12:32:44 +0000] [26824] [INFO] Handling signal: winch
[2025-06-14 12:32:44 +0000] [26824] [INFO] Handling signal: winch
INFO:app.llm_reasoning:OpenAI client initialized successfully
INFO:app.llm_reasoning:Google Gemini client initialized successfully
INFO:app.llm_reasoning:LLM reasoning module initialized successfully
[2025-06-14 12:32:45 +0000] [26824] [INFO] Handling signal: winch
INFO:app.routes:Index route accessed.
[2025-06-14 12:32:45 +0000] [26824] [INFO] Handling signal: winch
INFO:app.routes:Index route accessed.
[2025-06-14 12:32:45 +0000] [26824] [INFO] Handling signal: winch
[2025-06-14 12:32:45 +0000] [26824] [INFO] Handling signal: winch
[2025-06-14 12:32:45 +0000] [26824] [INFO] Handling signal: winch
[2025-06-14 12:32:45 +0000] [26824] [INFO] Handling signal: winch
[2025-06-14 12:32:45 +0000] [26824] [INFO] Handling signal: winch
[2025-06-14 12:32:45 +0000] [26824] [INFO] Handling signal: winch
[2025-06-14 12:32:45 +0000] [26824] [INFO] Handling signal: winch
[2025-06-14 12:32:45 +0000] [26824] [INFO] Handling signal: winch
[2025-06-14 12:32:45 +0000] [26824] [INFO] Handling signal: winch
[2025-06-14 12:32:45 +0000] [26824] [INFO] Handling signal: winch
[2025-06-14 12:32:45 +0000] [26824] [INFO] Handling signal: winch
[2025-06-14 12:32:45 +0000] [26824] [INFO] Handling signal: winch
[2025-06-14 12:32:45 +0000] [26824] [INFO] Handling signal: winch
[2025-06-14 12:32:45 +0000] [26824] [INFO] Handling signal: winch
[2025-06-14 12:32:45 +0000] [26824] [INFO] Handling signal: winch
[2025-06-14 12:32:45 +0000] [26824] [INFO] Handling signal: winch
[2025-06-14 12:32:45 +0000] [26824] [INFO] Handling signal: winch
[2025-06-14 12:32:45 +0000] [26824] [INFO] Handling signal: winch
[2025-06-14 12:32:45 +0000] [26824] [INFO] Handling signal: winch
[2025-06-14 12:32:45 +0000] [26824] [INFO] Handling signal: winch
[2025-06-14 12:32:46 +0000] [26824] [INFO] Handling signal: winch
[2025-06-14 12:32:46 +0000] [26824] [INFO] Handling signal: winch
[2025-06-14 12:32:46 +0000] [26824] [INFO] Handling signal: winch
[2025-06-14 12:32:46 +0000] [26824] [INFO] Handling signal: winch
[2025-06-14 12:32:46 +0000] [26824] [INFO] Handling signal: winch
[2025-06-14 12:32:46 +0000] [26824] [INFO] Handling signal: winch
[2025-06-14 12:32:46 +0000] [26824] [INFO] Handling signal: winch
[2025-06-14 12:32:46 +0000] [26824] [INFO] Handling signal: winch
[2025-06-14 12:32:46 +0000] [26824] [INFO] Handling signal: winch
[2025-06-14 12:32:46 +0000] [26824] [INFO] Handling signal: winch
INFO:app.routes:Processing requirements: SiteRequirements(flow=1781.0 mÂ³/hr, head=24.1 m)
INFO:catalog_engine:Loaded 386 pump models from catalog
INFO:catalog_engine:Total curves: 869
INFO:catalog_engine:NPSH curves: 612 (70.4%)
INFO:app.routes:Generating charts for pump: 32 HC 8P
INFO:app.routes:Operating point data: {'curve': {'curve_id': '32 HC 8P_C2_588mm', 'curve_index': 1, 'impeller_diameter_mm': 588.0, 'test_speed_rpm': 735, 'performance_points': [{'flow_m3hr': 1144.0, 'head_m': 23.2, 'efficiency_pct': 68.82, 'power_kw': None, 'npshr_m': 4.36}, {'flow_m3hr': 1485.0, 'head_m': 21.6, 'efficiency_pct': 80.0, 'power_kw': None, 'npshr_m': 4.53}, {'flow_m3hr': 1758.0, 'head_m': 20.0, 'efficiency_pct': 85.0, 'power_kw': None, 'npshr_m': 4.79}, {'flow_m3hr': 1926.0, 'head_m': 18.8, 'efficiency_pct': 85.5, 'power_kw': None, 'npshr_m': 5.0}, {'flow_m3hr': 2192.0, 'head_m': 16.4, 'efficiency_pct': 84.0, 'power_kw': None, 'npshr_m': 5.52}, {'flow_m3hr': 2478.0, 'head_m': 13.3, 'efficiency_pct': 80.0, 'power_kw': None, 'npshr_m': 6.37}, {'flow_m3hr': 2713.0, 'head_m': 10.0, 'efficiency_pct': 70.0, 'power_kw': None, 'npshr_m': 7.48}], 'point_count': 7, 'flow_range_m3hr': '1144.0-2713.0', 'head_range_m': '10.0-23.2', 'efficiency_range_pct': '68.8-85.5', 'has_power_data': False, 'has_npsh_data': True, 'npsh_range_m': '4.4-7.5'}, 'flow_m3hr': 1781.0, 'head_m': np.float64(24.1), 'efficiency_pct': 85.07, 'power_kw': np.float64(137.492), 'npshr_m': np.float64(5.85), 'impeller_diameter_mm': np.float64(648.1), 'test_speed_rpm': 735, 'sizing_info': {'base_diameter_mm': 588.0, 'required_diameter_mm': np.float64(648.1), 'trim_percent': np.float64(110.2), 'meets_requirements': np.True_, 'head_margin_m': np.float64(0.0)}}
INFO:app.routes:No NPSH data available for pump 32 HC 8P
[2025-06-14 12:33:14 +0000] [26835] [ERROR] Error handling request /pump-options?flow=1781&head=24.1&contact_name=&company=&email=&project_name=&project_location=&temperature=20&specific_gravity=1.0&viscosity=1.0&suction_pressure=0&static_head=0&npsh_available=&max_power=
Traceback (most recent call last):
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/gunicorn/workers/sync.py", line 134, in handle
    self.handle_request(listener, req, client, addr)
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/gunicorn/workers/sync.py", line 177, in handle_request
    respiter = self.wsgi(environ, resp.start_response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 1514, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 920, in full_dispatch_request
    return self.finalize_request(rv)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 941, in finalize_request
    response = self.process_response(response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py", line 1322, in process_response
    self.session_interface.save_session(self, ctx.session, response)
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/sessions.py", line 387, in save_session
    val = self.get_signing_serializer(app).dumps(dict(session))  # type: ignore[union-attr]
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/itsdangerous/serializer.py", line 316, in dumps
    payload = want_bytes(self.dump_payload(obj))
                         ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/itsdangerous/url_safe.py", line 56, in dump_payload
    json = super().dump_payload(obj)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/itsdangerous/serializer.py", line 278, in dump_payload
    return want_bytes(self.serializer.dumps(obj, **self.serializer_kwargs))
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/json/tag.py", line 323, in dumps
    return dumps(self.tag(value), separators=(",", ":"))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/json/__init__.py", line 41, in dumps
    return current_app.json.dumps(obj, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/json/provider.py", line 179, in dumps
    return json.dumps(obj, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/json/provider.py", line 121, in _default
    raise TypeError(f"Object of type {type(o).__name__} is not JSON serializable")
TypeError: Object of type bool is not JSON serializable