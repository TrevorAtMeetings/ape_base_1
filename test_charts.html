<!DOCTYPE html>
<html>
<head>
    <title>Test Charts</title>
    <script src="https://cdn.plot.ly/plotly-2.35.2.min.js"></script>
</head>
<body>
    <h1>Testing Charts.js</h1>
    <div id="test-chart" style="height: 400px;"></div>
    <div id="debug-output"></div>
    
    <script src="static/js/charts.js"></script>
    <script>
        setTimeout(function() {
            const debug = document.getElementById('debug-output');
            debug.innerHTML = '<h2>Debug Info:</h2>';
            debug.innerHTML += 'Plotly loaded: ' + (typeof Plotly !== 'undefined') + '<br>';
            debug.innerHTML += 'ChartManager available: ' + (typeof ChartManager !== 'undefined') + '<br>';
            debug.innerHTML += 'pumpChartsManager available: ' + (typeof window.pumpChartsManager !== 'undefined') + '<br>';
            
            if (window.pumpChartsManager) {
                debug.innerHTML += 'pumpChartsManager type: ' + (typeof window.pumpChartsManager) + '<br>';
                debug.innerHTML += 'Methods: ' + Object.getOwnPropertyNames(Object.getPrototypeOf(window.pumpChartsManager)).join(', ') + '<br>';
            }
            
            // Try to create a simple test chart
            if (typeof Plotly !== 'undefined') {
                try {
                    Plotly.newPlot('test-chart', [{
                        x: [1, 2, 3, 4],
                        y: [10, 11, 12, 13],
                        type: 'scatter'
                    }], {title: 'Test Chart'});
                    debug.innerHTML += 'Test chart created successfully!<br>';
                } catch (error) {
                    debug.innerHTML += 'Error creating test chart: ' + error.message + '<br>';
                }
            }
        }, 1000);
    </script>
</body>
</html>